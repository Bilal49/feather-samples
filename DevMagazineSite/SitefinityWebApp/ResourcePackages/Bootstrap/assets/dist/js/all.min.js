!function(a){function b(b,c,d){a.get(b,function(b){var e=null==d?a(b):a(b).find(d).html();a("#paging-wrapper").hide("slow",function(){a("#paging-wrapper").remove()});var f=c.offset().top+c.height()-a("#paging-wrapper").height()-a('nav[role="navigation"]').height();c.append(e),a("html body").animate({scrollTop:f},500)})}function c(){var b=a(".js-search-term"),c=a(".js-search-field");b.length>0&&c.focus().val(b.html())}a('.Search input[type="search"]').on("keydown",function(b){if(13==b.keyCode&&a(this).val().length>0){var c=a(this).data("url")+encodeURIComponent(a(this).val());window.location.href=c}}),a("#showMoreArticles").live("click",function(c){c.preventDefault();var d=a(this).hide(),e=Number(d.attr("data-page")),f=d.attr("data-url"),g=(a("#endless-paging").show(),f+"/"+(e+1)+"/");b(g,a("#news-container"),"#news-container")}),a("#showMoreResults").live("click",function(c){c.preventDefault();var d=a(this).hide(),e=Number(d.attr("data-page")),f=d.data("query");url=d.attr("data-url"),ajaxLoader=a("#endless-paging").show(),m=url+"?page="+(e+1)+"&query="+encodeURIComponent(f),b(m,a("#search-results"),"#search-results")}),a("#showMoreIssues").live("click",function(c){c.preventDefault();var d=a(this).hide(),e=Number(d.attr("data-page")),f=d.attr("data-url"),g=(a("#endless-paging").show(),f+"/archive/"+(e+1));b(g,a("#issues-list"),null)}),c()}(jQuery),function(a,b){"use strict";function c(c,f){this.element=c,this.$element=a(c),this.options=a.extend({},e,f),this._name=d,this.$window=a(b),this.position=this.$element.css("position"),this.fixed=!1,this.working=!1,this.width=this.$element.width(),this.height=this.$element.height(),this.offset=this.$element.offset(),this.$window.on("scroll.fixit",a.proxy(this.onscroll,this)).trigger("scroll.fixit")}var d="fixit",e={top:0,fixClass:"is-fixed",dummyClass:"fixed-dummy",classOnly:!0,renderDummy:!0};c.prototype={onscroll:function(){this.scrollTop=this.$window.scrollTop(),this.requestTick()},requestTick:function(c){c=c||"check",this.working||(b.requestAnimationFrame(a.proxy(this[c],this)),this.working=!0)},check:function(){this.scrollTop+parseInt(this.options.top,10)>this.offset.top?this.fixed||this.fix():this.fixed&&this.reset(),this.working=!1},addDummy:function(){this.$dummy=a("<div>",{"class":this.options.dummyClass}).insertBefore(this.$element)},fix:function(){this.options.renderDummy&&this.addDummy(),this.$element.addClass(this.options.fixClass),this.options.classOnly||this.$element.css({width:this.width,height:this.height,position:"fixed",top:this.options.top+"px",left:this.offset.left}),this.fixed=!0},reset:function(){this.$element.removeClass(this.options.fixClass),this.options.classOnly||this.$element.css({position:this.position}),this.options.renderDummy&&this.$dummy.remove(),this.fixed=!1}},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window,document);